<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0-beta2) on Mon Mar 19 18:26:49 CST 2007 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ResourceBundle.Control (Java Platform SE 6)
</TITLE>

<META NAME="date" CONTENT="2007-03-19">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ResourceBundle.Control (Java Platform SE 6)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ResourceBundle.Control.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Java<sup><font size=-2>TM</font></sup>&nbsp;Platform<br>Standard&nbsp;Ed. 6</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../java/util/Scanner.html" title="java.util 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?java/util/ResourceBundle.Control.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="ResourceBundle.Control.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
java.util</FONT>
<BR>
类 ResourceBundle.Control</H2>
<PRE>
<A HREF="../../java/lang/Object.html" title="java.lang 中的类">java.lang.Object</A>
  <IMG SRC="../../resources/inherit.gif" ALT="继承者 "><B>java.util.ResourceBundle.Control</B>
</PRE>
<DL>
<DT><B>正在封闭类：</B><DD><A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类">ResourceBundle</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public static class <B>ResourceBundle.Control</B><DT>extends <A HREF="../../java/lang/Object.html" title="java.lang 中的类">Object</A></DL>
</PRE>

<P>
<code>ResourceBundle.Control</code> 定义一个回调方法集，它在包加载进程中由 <A HREF="../../java/util/ResourceBundle.html#getBundle(java.lang.String, java.util.Locale, java.lang.ClassLoader, java.util.ResourceBundle.Control)"><CODE>ResourceBundle.getBundle</CODE></A> 工厂方法调用。换句话说，<code>ResourceBundle.Control</code> 与工厂方法协作可用于加载资源包。回调方法的默认实现为工厂方法提供执行<a
 href="./ResourceBundle.html#default_behavior">默认行为</a>的必要信息。

<p>除了回调方法外，还定义了 <A HREF="../../java/util/ResourceBundle.Control.html#toBundleName(java.lang.String, java.util.Locale)"><CODE>toBundleName</CODE></A> 和 <A HREF="../../java/util/ResourceBundle.Control.html#toResourceName(java.lang.String, java.lang.String)"><CODE>toResourceName</CODE></A> 方法，其主要目的是为实现回调方法提供方便。但是，若要在本地化资源的组织和打包中提供不同的约定，也可以重写 <code>toBundleName</code> 方法。<code>toResourceName</code> 方法是 <code>final</code> 方法，以避免使用错误的资源和类名称分隔符。

<p>两个工厂方法 <A HREF="../../java/util/ResourceBundle.Control.html#getControl(java.util.List)"><CODE>getControl(List)</CODE></A> 和 <A HREF="../../java/util/ResourceBundle.Control.html#getNoFallbackControl(java.util.List)"><CODE>getNoFallbackControl(List)</CODE></A> 都提供 <code>ResourceBundle.Control</code> 实例，这些实例实现默认包加载进程的常见变量。

<p>在相同基本包的所有 <code>ResourceBundle.getBundle</code> 调用中，<A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats</CODE></A> 方法返回的格式和 <A HREF="../../java/util/ResourceBundle.Control.html#getCandidateLocales(java.lang.String, java.util.Locale)"><CODE>getCandidateLocales</CODE></A> 方法返回的候选语言环境必须一致。否则，<code>ResourceBundle.getBundle</code> 方法返回意料之外的包。例如，如果 <code>getFormats</code> 方法在第一次调用 <code>ResourceBundle.getBundle</code> 时只返回 <code>&quot;java.class&quot;</code>，第二次调用时只返回 <code>&quot;java.properties&quot;</code>，那么第二次调用返回的基于类的包将是在第一次调用过程中缓存的那个包。

<p>如果 <code>ResourceBundle.Control</code> 实例被多个线程同时使用，则它必须是线程安全的。<code>ResourceBundle.getBundle</code> 不会同时调用 <code>ResourceBundle.Control</code> 方法。方法的默认实现是线程安全的。

<p>应用程序可以指定 <code>getControl</code> 工厂方法返回的 <code>ResourceBundle.Control</code> 实例，也可以指定从 <code>ResourceBundle.Control</code> 子类创建的 <code>ResourceBundle.Control</code> 实例，以自定义包加载进程。下面是对默认包加载进程进行更改的示例。

<p><b>示例 1</b>

<p>以下代码让 <code>ResourceBundle.getBundle</code> 只查找基于属性的资源。

 <pre>
import java.util.*;
import static java.util.ResourceBundle.Control.*;
 ...
ResourceBundle bundle =
ResourceBundle.getBundle(&quot;MyResources&quot;, new Locale(&quot;fr&quot;, &quot;CH&quot;),
ResourceBundle.Control.getControl(FORMAT_PROPERTIES));
 </pre>

给定 <code>ResourceBundle.getBundle</code> 描述的<a
 href="./ResourceBundle.html#default_behavior_example">示例</a>中的资源包，此 <code>ResourceBundle.getBundle</code> 调用加载 <code>MyResources_fr_CH.properties</code>，它的父属性是 <code>MyResources_fr.properties</code>，而后者的父属性是 <code>MyResources.properties</code>。(没有隐藏 <code>MyResources_fr_CH.properties</code>，但隐藏了 <code>MyResources_fr_CH.class</code>。）

<p><b>示例 2</b>

<p>下面是使用 <A HREF="../../java/util/Properties.html#loadFromXML(java.io.InputStream)"><CODE>Properties.loadFromXML</CODE></A> 加载基于 XML 的包的示例。

 <pre>
ResourceBundle rb = ResourceBundle.getBundle(&quot;Messages&quot;,
new ResourceBundle.Control() {
public List&lt;String&gt; getFormats(String baseName) {
if (baseName == null)
throw new NullPointerException();
return Arrays.asList(&quot;xml&quot;);
         }
public ResourceBundle newBundle(String baseName,
Locale locale,
String format,
ClassLoader loader,
boolean reload)
throws IllegalAccessException,
InstantiationException,
IOException {
if (baseName == null || locale == null
|| format == null || loader == null)
throw new NullPointerException();
ResourceBundle bundle = null;
if (format.equals(&quot;xml&quot;)) {
String bundleName = toBundleName(baseName, locale);
String resourceName = toResourceName(bundleName, format);
InputStream stream = null;
if (reload) {
URL url = loader.getResource(resourceName);
if (url != null) {
URLConnection connection = url.openConnection();
if (connection != null) {
// Disable caches to get fresh data for
// reloading.
connection.setUseCaches(false);
stream = connection.getInputStream();
                         }
                     }
} else {
stream = loader.getResourceAsStream(resourceName);
                 }
if (stream != null) {
BufferedInputStream bis = new BufferedInputStream(stream);
bundle = new XMLResourceBundle(bis);
bis.close();
                 }
             }
return bundle;
         }
     });

 ...

private static class XMLResourceBundle extends ResourceBundle {
private Properties props;
XMLResourceBundle(InputStream stream) throws IOException {
props = new Properties();
props.loadFromXML(stream);
     }
protected Object handleGetObject(String key) {
return props.getProperty(key);
     }
public Enumeration&lt;String&gt; getKeys() {
         ...
     }
 }
 </pre>
<P>

<P>
<DL>
<DT><B>从以下版本开始：</B></DT>
  <DD>1.6</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>字段摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_CLASS">FORMAT_CLASS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;包含 <code>&quot;java.class&quot;</code> 的纯类 (class-only) 格式 <code>List</code>。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_DEFAULT">FORMAT_DEFAULT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;默认的格式 <code>List</code>，它包含字符串 <code>&quot;java.class&quot;</code> 和 <code>&quot;java.properties&quot;</code>（按此顺序）。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_PROPERTIES">FORMAT_PROPERTIES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;包含 <code>&quot;java.properties&quot;</code> 的纯属性 (properties-only) 格式 <code>List</code>。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#TTL_DONT_CACHE">TTL_DONT_CACHE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;不缓存已加载资源包实例的生存时间常量。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#TTL_NO_EXPIRATION_CONTROL">TTL_NO_EXPIRATION_CONTROL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对缓存中已加载资源包实例禁用到期控制的生存时间常量。</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>构造方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#ResourceBundle.Control()">ResourceBundle.Control</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;唯一的构造方法。</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#getCandidateLocales(java.lang.String, java.util.Locale)">getCandidateLocales</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                    <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回 <code>Locale</code> 的 <code>List</code>，作为 <code>baseName</code> 和 <code>locale</code> 的候选语言环境。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../java/util/ResourceBundle.Control.html" title="java.util 中的类">ResourceBundle.Control</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#getControl(java.util.List)">getControl</A></B>(<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;&nbsp;formats)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回 <code>ResourceBundle.Control</code>，<A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats</CODE></A> 方法在其中返回指定的 <code>formats</code>。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#getFallbackLocale(java.lang.String, java.util.Locale)">getFallbackLocale</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                  <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回一个要用作回退语言环境的 <code>Locale</code>，用于 <code>ResourceBundle.getBundle</code> 工厂方法进行进一步资源包搜索。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)">getFormats</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回 <code>String</code> 的 <code>List</code>，它包含要用于加载给定 <code>baseName</code> 的资源包的格式。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../java/util/ResourceBundle.Control.html" title="java.util 中的类">ResourceBundle.Control</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#getNoFallbackControl(java.util.List)">getNoFallbackControl</A></B>(<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;&nbsp;formats)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回一个 <code>ResourceBundle.Control</code>，<A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats</CODE></A> 方法在其中返回指定的 <code>formats</code>，<A HREF="../../java/util/ResourceBundle.Control.html#getFallbackLocale(java.lang.String, java.util.Locale)"><CODE>getFallbackLocale</CODE></A> 方法在其中返回 <code>null</code>。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#getTimeToLive(java.lang.String, java.util.Locale)">getTimeToLive</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
              <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;返回在此 <code>ResourceBundle.Control</code> 下加载的资源包生存时间 (TTL) 值。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#needsReload(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, java.util.ResourceBundle, long)">needsReload</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
            <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale,
            <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;format,
            <A HREF="../../java/lang/ClassLoader.html" title="java.lang 中的类">ClassLoader</A>&nbsp;loader,
            <A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类">ResourceBundle</A>&nbsp;bundle,
            long&nbsp;loadTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;确定是否需要根据 <code>loadTime</code> 或其他标准给出的加载时间重载缓存中已到期的 <code>bundle</code>。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类">ResourceBundle</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#newBundle(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, boolean)">newBundle</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
          <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale,
          <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;format,
          <A HREF="../../java/lang/ClassLoader.html" title="java.lang 中的类">ClassLoader</A>&nbsp;loader,
          boolean&nbsp;reload)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;针对给定格式和语言环境的给定包名称，实例化一个资源包，如有必要，可使用给定的类加载器。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#toBundleName(java.lang.String, java.util.Locale)">toBundleName</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
             <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将给定 <code>baseName</code> 和 <code>locale</code> 转换为包名称。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/util/ResourceBundle.Control.html#toResourceName(java.lang.String, java.lang.String)">toResourceName</A></B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;bundleName,
               <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;suffix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将给定 <code>bundleName</code> 转换为 <A HREF="../../java/lang/ClassLoader.html#getResource(java.lang.String)"><CODE>ClassLoader.getResource</CODE></A> 方法要求的形式：用 <code>'/'</code> 替换 <code>bundleName</code> 中出现的所有 <code>'.'</code>，并添加一个 <code>'.'</code> 和给定的文件 <code>suffix</code>。</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 java.lang.<A HREF="../../java/lang/Object.html" title="java.lang 中的类">Object</A> 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../java/lang/Object.html#clone()">clone</A>, <A HREF="../../java/lang/Object.html#equals(java.lang.Object)">equals</A>, <A HREF="../../java/lang/Object.html#finalize()">finalize</A>, <A HREF="../../java/lang/Object.html#getClass()">getClass</A>, <A HREF="../../java/lang/Object.html#hashCode()">hashCode</A>, <A HREF="../../java/lang/Object.html#notify()">notify</A>, <A HREF="../../java/lang/Object.html#notifyAll()">notifyAll</A>, <A HREF="../../java/lang/Object.html#toString()">toString</A>, <A HREF="../../java/lang/Object.html#wait()">wait</A>, <A HREF="../../java/lang/Object.html#wait(long)">wait</A>, <A HREF="../../java/lang/Object.html#wait(long, int)">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>字段详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FORMAT_DEFAULT"><!-- --></A><H3>
FORMAT_DEFAULT</H3>
<PRE>
public static final <A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt; <B>FORMAT_DEFAULT</B></PRE>
<DL>
<DD>默认的格式 <code>List</code>，它包含字符串 <code>&quot;java.class&quot;</code> 和 <code>&quot;java.properties&quot;</code>（按此顺序）。此 <code>List</code> <A HREF="../../java/util/Collections.html#unmodifiableList(java.util.List)">不可修改</A>。
<P>
<DL>
<DT><B>另请参见：</B><DD><A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats(String)</CODE></A></DL>
</DL>
<HR>

<A NAME="FORMAT_CLASS"><!-- --></A><H3>
FORMAT_CLASS</H3>
<PRE>
public static final <A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt; <B>FORMAT_CLASS</B></PRE>
<DL>
<DD>包含 <code>&quot;java.class&quot;</code> 的纯类 (class-only) 格式 <code>List</code>。此 <code>List</code> <A HREF="../../java/util/Collections.html#unmodifiableList(java.util.List)">不可修改</A>。
<P>
<DL>
<DT><B>另请参见：</B><DD><A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats(String)</CODE></A></DL>
</DL>
<HR>

<A NAME="FORMAT_PROPERTIES"><!-- --></A><H3>
FORMAT_PROPERTIES</H3>
<PRE>
public static final <A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt; <B>FORMAT_PROPERTIES</B></PRE>
<DL>
<DD>包含 <code>&quot;java.properties&quot;</code> 的纯属性 (properties-only) 格式 <code>List</code>。此 <code>List</code> <A HREF="../../java/util/Collections.html#unmodifiableList(java.util.List)">不可修改</A>。
<P>
<DL>
<DT><B>另请参见：</B><DD><A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats(String)</CODE></A></DL>
</DL>
<HR>

<A NAME="TTL_DONT_CACHE"><!-- --></A><H3>
TTL_DONT_CACHE</H3>
<PRE>
public static final long <B>TTL_DONT_CACHE</B></PRE>
<DL>
<DD>不缓存已加载资源包实例的生存时间常量。
<P>
<DL>
<DT><B>另请参见：</B><DD><A HREF="../../java/util/ResourceBundle.Control.html#getTimeToLive(java.lang.String, java.util.Locale)"><CODE>getTimeToLive(String, Locale)</CODE></A>, 
<A HREF="../../constant-values.html#java.util.ResourceBundle.Control.TTL_DONT_CACHE">常量字段值</A></DL>
</DL>
<HR>

<A NAME="TTL_NO_EXPIRATION_CONTROL"><!-- --></A><H3>
TTL_NO_EXPIRATION_CONTROL</H3>
<PRE>
public static final long <B>TTL_NO_EXPIRATION_CONTROL</B></PRE>
<DL>
<DD>对缓存中已加载资源包实例禁用到期控制的生存时间常量。
<P>
<DL>
<DT><B>另请参见：</B><DD><A HREF="../../java/util/ResourceBundle.Control.html#getTimeToLive(java.lang.String, java.util.Locale)"><CODE>getTimeToLive(String, Locale)</CODE></A>, 
<A HREF="../../constant-values.html#java.util.ResourceBundle.Control.TTL_NO_EXPIRATION_CONTROL">常量字段值</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>构造方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ResourceBundle.Control()"><!-- --></A><H3>
ResourceBundle.Control</H3>
<PRE>
protected <B>ResourceBundle.Control</B>()</PRE>
<DL>
<DD>唯一的构造方法。（由子类构造方法调用，通常是隐式的。）
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getControl(java.util.List)"><!-- --></A><H3>
getControl</H3>
<PRE>
public static final <A HREF="../../java/util/ResourceBundle.Control.html" title="java.util 中的类">ResourceBundle.Control</A> <B>getControl</B>(<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;&nbsp;formats)</PRE>
<DL>
<DD>返回 <code>ResourceBundle.Control</code>，<A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats</CODE></A> 方法在其中返回指定的 <code>formats</code>。<code>formats</code> 必须等于 <A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_PROPERTIES"><CODE>FORMAT_PROPERTIES</CODE></A>、<A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_CLASS"><CODE>FORMAT_CLASS</CODE></A> 或 <A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_DEFAULT"><CODE>FORMAT_DEFAULT</CODE></A> 之一。此方法返回的 <code>ResourceBundle.Control</code> 实例是单独且线程安全的。

<p>指定 <A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_DEFAULT"><CODE>FORMAT_DEFAULT</CODE></A> 等效于实例化 <code>ResourceBundle.Control</code> 类，区别在于此方法返回一个单独实例。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>formats</CODE> - <code>ResourceBundle.Control.getFormats</code> 方法要返回的格式
<DT><B>返回：</B><DD>支持指定 <code>formats</code> 的 <code>ResourceBundle.Control</code>
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>formats</code> 为 <code>null</code>
<DD><CODE><A HREF="../../java/lang/IllegalArgumentException.html" title="java.lang 中的类">IllegalArgumentException</A></CODE> - 如果 <code>formats</code> 未知</DL>
</DD>
</DL>
<HR>

<A NAME="getNoFallbackControl(java.util.List)"><!-- --></A><H3>
getNoFallbackControl</H3>
<PRE>
public static final <A HREF="../../java/util/ResourceBundle.Control.html" title="java.util 中的类">ResourceBundle.Control</A> <B>getNoFallbackControl</B>(<A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt;&nbsp;formats)</PRE>
<DL>
<DD>返回一个 <code>ResourceBundle.Control</code>，<A HREF="../../java/util/ResourceBundle.Control.html#getFormats(java.lang.String)"><CODE>getFormats</CODE></A> 方法在其中返回指定的 <code>formats</code>，<A HREF="../../java/util/ResourceBundle.Control.html#getFallbackLocale(java.lang.String, java.util.Locale)"><CODE>getFallbackLocale</CODE></A> 方法在其中返回 <code>null</code>。<code>formats</code> 必须等于 <A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_PROPERTIES"><CODE>FORMAT_PROPERTIES</CODE></A>、<A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_CLASS"><CODE>FORMAT_CLASS</CODE></A> 或 <A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_DEFAULT"><CODE>FORMAT_DEFAULT</CODE></A> 之一。此方法返回的 <code>ResourceBundle.Control</code> 实例是单独且线程安全的。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>formats</CODE> - <code>ResourceBundle.Control.getFormats</code> 方法要返回的格式
<DT><B>返回：</B><DD>支持指定 <code>formats</code> 的 <code>ResourceBundle.Control</code>，不支持任何回退 <code>Locale</code>
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>formats</code> 为 <code>null</code>
<DD><CODE><A HREF="../../java/lang/IllegalArgumentException.html" title="java.lang 中的类">IllegalArgumentException</A></CODE> - 如果 <code>formats</code> 未知</DL>
</DD>
</DL>
<HR>

<A NAME="getFormats(java.lang.String)"><!-- --></A><H3>
getFormats</H3>
<PRE>
public <A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&gt; <B>getFormats</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName)</PRE>
<DL>
<DD>返回 <code>String</code> 的 <code>List</code>，它包含要用于加载给定 <code>baseName</code> 的资源包的格式。<code>ResourceBundle.getBundle</code> 工厂方法尝试使用按列表指定顺序的格式加载资源包。此方法返回的列表必须至少有一个 <code>String</code>。对于基于类的资源包，预定义的格式是 <code>&quot;java.class&quot;</code>，对于 <A HREF="../../java/util/PropertyResourceBundle.html" title="java.util 中的类">properties-based</A> 资源包，预定义的格式是 <code>&quot;java.properties&quot;</code>。以 <code>&quot;java.&quot;</code> 开头的字符串是为将来扩展而保留的，不得被应用程序定义的格式使用。

<p>不必返回一个不可变的（不可修改的） <code>List</code>。但是，返回的 <code>List</code> 在由 <code>getFormats</code> 返回后不得改变。

<p>默认实现返回 <A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_DEFAULT"><CODE>FORMAT_DEFAULT</CODE></A>，以便 <code>ResourceBundle.getBundle</code> 工厂方法首先查找基于类的资源包，然后查找基于属性的资源包。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 资源包的基本名称，是一个完全限定类名
<DT><B>返回：</B><DD><code>String</code> 的 <code>List</code>，它包含加载资源包的格式。
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>baseName</code> 为 null<DT><B>另请参见：</B><DD><A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_DEFAULT"><CODE>FORMAT_DEFAULT</CODE></A>, 
<A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_CLASS"><CODE>FORMAT_CLASS</CODE></A>, 
<A HREF="../../java/util/ResourceBundle.Control.html#FORMAT_PROPERTIES"><CODE>FORMAT_PROPERTIES</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCandidateLocales(java.lang.String, java.util.Locale)"><!-- --></A><H3>
getCandidateLocales</H3>
<PRE>
public <A HREF="../../java/util/List.html" title="java.util 中的接口">List</A>&lt;<A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&gt; <B>getCandidateLocales</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                                        <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</PRE>
<DL>
<DD>返回 <code>Locale</code> 的 <code>List</code>，作为 <code>baseName</code> 和 <code>locale</code> 的候选语言环境。在工厂方法每次尝试为目标 <code>Locale</code> 查找资源包时，由 <code>ResourceBundle.getBundle</code> 工厂方法调用此方法。

<p>如果存在对应于候选语言环境的资源包，并且它们的父包不是由已加载资源包本身定义的，那么候选语言环境序列还将对应于运行时资源查找路径（也称为<I>父链</I>）。如果需要让基本包作为父链的终端，那么列表的最后一个元素必须是<A HREF="../../java/util/Locale.html#ROOT">根语言环境</A>。

<p>如果给定语言环境等于 <code>Locale.ROOT</code>（根语言环境），则必须返回一个只包含根 <code>Locale</code> 的 <code>List</code>。在这种情况下，<code>ResourceBundle.getBundle</code> 工厂方法只将基本包作为所得资源包加载。

<p>不必返回一个不可变的（不可修改的） <code>List</code>。但是，返回的 <code>List</code> 在由 <code>getCandidateLocales</code> 返回之后不得改变。

<p>默认实现按照以下次序返回包含 <code>Locale</code> 的 <code>List</code>：
 <pre>
Locale(language, country, variant)
Locale(language, country)
Locale(language)
Locale.ROOT
 </pre>
其中 <code>language</code>、<code>country</code> 和 <code>variant</code> 分别指语言、国家/地区和给定 <code>locale</code> 的变量值。省略最后部分的值为空字符串的语言环境。

<p>默认实现使用 <A HREF="../../java/util/ArrayList.html" title="java.util 中的类"><CODE>ArrayList</CODE></A>，重写实现可以在将它返回给调用者之前对它进行修改。但是，子类在它被 <code>getCandidateLocales</code> 返回之后不得修改它。

<p>例如，如果给定 <code>baseName</code> 为 &quot;Messages&quot;，给定 <code>locale</code> 为 <code>Locale(&quot;ja&quot;,&#xA0;&quot;&quot;,&#xA0;&quot;XX&quot;)</code>，则返回 <code>Locale</code> 的 <code>List</code> 为：
 <pre>
Locale(&quot;ja&quot;, &quot;&quot;, &quot;XX&quot;)
Locale(&quot;ja&quot;)
Locale.ROOT
 </pre>
而且，如果找到了 &quot;ja&quot; 和 &quot;&quot; <code>Locale</code> 的资源包，则运行时资源查找路径（父链）为：
 <pre>
Messages_ja -&gt; Messages
 </pre>
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 资源包的基本名称，是一个完全限定类名<DD><CODE>locale</CODE> - 资源包需要的语言环境
<DT><B>返回：</B><DD>为给定 <code>locale</code> 的候选 <code>Locale</code> <code>List</code>
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>baseName</code> 或 <code>locale</code> 为 <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="getFallbackLocale(java.lang.String, java.util.Locale)"><!-- --></A><H3>
getFallbackLocale</H3>
<PRE>
public <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A> <B>getFallbackLocale</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                                <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</PRE>
<DL>
<DD>返回一个要用作回退语言环境的 <code>Locale</code>，用于 <code>ResourceBundle.getBundle</code> 工厂方法进行进一步资源包搜索。每次找不到任何对应于 <code>baseName</code> 和 <code>locale</code> 的所得资源包时（其中 locale 是 <code>ResourceBundle.getBundle</code> 的参数，或者此方法以前返回的回退语言环境），从工厂方法调用此方法。

<p>如果不需要进一步的回退搜索，那么该方法返回 <code>null</code>。

<p>如果给定 <code>locale</code> 不是默认的，那么默认实现返回<A HREF="../../java/util/Locale.html#getDefault()">默认 <code>Locale</code></A>。否则，返回 <code>null</code>。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 资源包的基本名称，是一个完全限定类名，<code>ResourceBundle.getBundle</code> 无法为其找到任何资源包（基本包除外）<DD><CODE>locale</CODE> - <code>ResourceBundle.getBundle</code> 无法为其找到任何资源包（基本包除外）的 <code>Locale</code>
<DT><B>返回：</B><DD>回退搜索的 <code>Locale</code>；如果不需要进一步的搜索，则返回 <code>null</code>。
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>baseName</code> 或 <code>locale</code> 为 <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="newBundle(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, boolean)"><!-- --></A><H3>
newBundle</H3>
<PRE>
public <A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类">ResourceBundle</A> <B>newBundle</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                                <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale,
                                <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;format,
                                <A HREF="../../java/lang/ClassLoader.html" title="java.lang 中的类">ClassLoader</A>&nbsp;loader,
                                boolean&nbsp;reload)
                         throws <A HREF="../../java/lang/IllegalAccessException.html" title="java.lang 中的类">IllegalAccessException</A>,
                                <A HREF="../../java/lang/InstantiationException.html" title="java.lang 中的类">InstantiationException</A>,
                                <A HREF="../../java/io/IOException.html" title="java.io 中的类">IOException</A></PRE>
<DL>
<DD>针对给定格式和语言环境的给定包名称，实例化一个资源包，如有必要，可使用给定的类加载器。如果对于给定参数没有任何可用的资源包，则此方法返回 <code>null</code>。如果资源包由于无法预料的错误而不能被实例化，则必须通过抛出 <code>Error</code> 或 <code>Exception</code> 来报告错误，而不是简单地返回 <code>null</code>。

<p>如果 <code>reload</code> 标志为 <code>true</code>，则它表示由于以前加载的资源包已到期而调用此方法。

<p>默认实现按如下方法实例化 <code>ResourceBundle</code>。

 <ul>

<li>通过调用 <A HREF="../../java/util/ResourceBundle.Control.html#toBundleName(java.lang.String, java.util.Locale)"><CODE>toBundleName(baseName, locale)</CODE></A> 获取包名称。</li>

<li>如果 <code>format</code> 为 <code>&quot;java.class&quot;</code>，则通过调用 <A HREF="../../java/lang/ClassLoader.html#loadClass(java.lang.String)"><CODE>ClassLoader.loadClass(String)</CODE></A> 加载由包名称指定的 <A HREF="../../java/lang/Class.html" title="java.lang 中的类"><CODE>Class</CODE></A>。然后，通过调用 <A HREF="../../java/lang/Class.html#newInstance()"><CODE>Class.newInstance()</CODE></A> 实例化 <code>ResourceBundle</code>。注意，对于加载此默认实现中基于类的资源包将忽略 <code>reload</code> 标志。</li>

<li>如果 <code>format</code> 为 <code>&quot;java.properties&quot;</code>，则调用 <A HREF="../../java/util/ResourceBundle.Control.html#toResourceName(java.lang.String, java.lang.String)"><CODE>toResourceName(bundlename, &quot;properties&quot;)</CODE></A> 获取资源名称。如果 <code>reload</code> 为 <code>true</code>，则调用 <A HREF="../../java/lang/ClassLoader.html#getResource(java.lang.String)"><CODE>load.getResource</CODE></A> 获取用于创建 <A HREF="../../java/net/URLConnection.html" title="java.net 中的类"><CODE>URLConnection</CODE></A> 的 <A HREF="../../java/net/URL.html" title="java.net 中的类"><CODE>URL</CODE></A>。此 <code>URLConnection</code> 用于<A HREF="../../java/net/URLConnection.html#setUseCaches(boolean)">禁用</A>底层资源加载层的缓存，并<A HREF="../../java/net/URLConnection.html#getInputStream()">获取 <code>InputStream</code></A>。否则，调用 <A HREF="../../java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)"><CODE>loader.getResourceAsStream</CODE></A> 获取 <A HREF="../../java/io/InputStream.html" title="java.io 中的类"><CODE>InputStream</CODE></A>。然后，构造一个带有 <code>InputStream</code> 的 <A HREF="../../java/util/PropertyResourceBundle.html" title="java.util 中的类"><CODE>PropertyResourceBundle</CODE></A>。</li>

<li>如果 <code>format</code> 既不是 <code>&quot;java.class&quot;</code> 也不是 <code>&quot;java.properties&quot;</code>，则抛出 <code>IllegalArgumentException</code>。</li>

 </ul>
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 资源包的基本名称，是一个完全限定类名<DD><CODE>locale</CODE> - 应为其实例化资源包的语言环境<DD><CODE>format</CODE> - 要加载的资源包格式<DD><CODE>loader</CODE> - 要用于加载包的 <code>ClassLoader</code><DD><CODE>reload</CODE> - 用于表示重新加载包的标志；如果重新加载到期的资源包，则为 <code>true</code>，否则为 <code>false</code>
<DT><B>返回：</B><DD>资源包实例；如果未找到任何实例，则返回 <code>null</code>。
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>bundleName</code>、<code>locale</code>、<code>format</code> 或 <code>loader</code> 为 <code>null</code>，或者 <A HREF="../../java/util/ResourceBundle.Control.html#toBundleName(java.lang.String, java.util.Locale)"><CODE>toBundleName</CODE></A> 返回 <code>null</code>
<DD><CODE><A HREF="../../java/lang/IllegalArgumentException.html" title="java.lang 中的类">IllegalArgumentException</A></CODE> - 如果 <code>format</code> 未知，或者为给定参数找到的资源包含错误数据。
<DD><CODE><A HREF="../../java/lang/ClassCastException.html" title="java.lang 中的类">ClassCastException</A></CODE> - 如果已加载类无法被强制转换为 <code>ResourceBundle</code>
<DD><CODE><A HREF="../../java/lang/IllegalAccessException.html" title="java.lang 中的类">IllegalAccessException</A></CODE> - 如果类或其 null 构造方法无法访问。
<DD><CODE><A HREF="../../java/lang/InstantiationException.html" title="java.lang 中的类">InstantiationException</A></CODE> - 如果类的实例化由于某些其他原因而失败。
<DD><CODE><A HREF="../../java/lang/ExceptionInInitializerError.html" title="java.lang 中的类">ExceptionInInitializerError</A></CODE> - 如果此方法引起的初始化失败。
<DD><CODE><A HREF="../../java/lang/SecurityException.html" title="java.lang 中的类">SecurityException</A></CODE> - 如果安全管理器存在并且拒绝创建新实例。有关详细信息，请参阅 <A HREF="../../java/lang/Class.html#newInstance()"><CODE>Class.newInstance()</CODE></A>。
<DD><CODE><A HREF="../../java/io/IOException.html" title="java.io 中的类">IOException</A></CODE> - 如果在使用任意 I/O 操作读取资源时发生错误</DL>
</DD>
</DL>
<HR>

<A NAME="getTimeToLive(java.lang.String, java.util.Locale)"><!-- --></A><H3>
getTimeToLive</H3>
<PRE>
public long <B>getTimeToLive</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                          <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</PRE>
<DL>
<DD>返回在此 <code>ResourceBundle.Control</code> 下加载的资源包生存时间 (TTL) 值。正生存时间值指定不根据构造包的源数据进行验证的情况下，包可以在缓存中保留的毫秒数。值为 0 表示每次从缓存中获取包时必须进行验证。<A HREF="../../java/util/ResourceBundle.Control.html#TTL_DONT_CACHE"><CODE>TTL_DONT_CACHE</CODE></A> 指定已加载资源包不放入缓存。<A HREF="../../java/util/ResourceBundle.Control.html#TTL_NO_EXPIRATION_CONTROL"><CODE>TTL_NO_EXPIRATION_CONTROL</CODE></A> 指定已加载资源包放入缓存且没有到期控制。

<p>到期只通过 <code>ResourceBundle.getBundle</code> 工厂方法影响包加载进程。也就是说，如果该工厂方法发现缓存中的资源包已到期，那么该工厂方法将调用 <A HREF="../../java/util/ResourceBundle.Control.html#needsReload(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, java.util.ResourceBundle, long)"><CODE>needsReload</CODE></A> 方法确定是否需要重新加载资源包。如果 <code>needsReload</code> 返回 <code>true</code>，则从缓存中移除缓存的资源包实例。否则，实例将保留在缓存中，用此方法返回的新 TTL 值进行更新。

<p>所有缓存的资源包都会由于运行时环境的内存约束而从缓存中移除。返回一个大的正值并不意味着锁定缓存中已加载的资源包。

<p>默认实现返回 <A HREF="../../java/util/ResourceBundle.Control.html#TTL_NO_EXPIRATION_CONTROL"><CODE>TTL_NO_EXPIRATION_CONTROL</CODE></A>。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 为其指定到期值的资源包基本名称。<DD><CODE>locale</CODE> - 为其指定到期值的资源包语言环境。
<DT><B>返回：</B><DD>时间（0 或从缓存时间到现在的正毫秒数），表示获取缓存中已加载资源包的到期时间；<A HREF="../../java/util/ResourceBundle.Control.html#TTL_NO_EXPIRATION_CONTROL"><CODE>TTL_NO_EXPIRATION_CONTROL</CODE></A> 表示禁用到期控制；<A HREF="../../java/util/ResourceBundle.Control.html#TTL_DONT_CACHE"><CODE>TTL_DONT_CACHE</CODE></A> 表示禁用缓存。
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>baseName</code> 或 <code>locale</code> 为 <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="needsReload(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, java.util.ResourceBundle, long)"><!-- --></A><H3>
needsReload</H3>
<PRE>
public boolean <B>needsReload</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                           <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale,
                           <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;format,
                           <A HREF="../../java/lang/ClassLoader.html" title="java.lang 中的类">ClassLoader</A>&nbsp;loader,
                           <A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类">ResourceBundle</A>&nbsp;bundle,
                           long&nbsp;loadTime)</PRE>
<DL>
<DD>确定是否需要根据 <code>loadTime</code> 或其他标准给出的加载时间重载缓存中已到期的 <code>bundle</code>。如果需要重载，那么此方法返回 <code>true</code>，否则返回 <code>false</code>。<code>loadTime</code> 是从 <a href="Calendar.html#Epoch"> <code>Calendar</code> Epoch</a> 到现在的毫秒数。

调用 <code>ResourceBundle.getBundle</code> 工厂方法在用于其当前调用的 <code>ResourceBundle.Control</code> 实例上调用此方法，而不是在最初加载资源包的调用中所使用的实例上调用此方法。

<p>默认实现将 <code>loadTime</code> 和资源包源数据上一次的修改时间进行比较。如果确定自 <code>loadTime</code> 以来修改过源数据，则返回 <code>true</code>。否则，返回 <code>false</code>。如果给定 <code>format</code> 不是默认格式 <code>&quot;java.class&quot;</code> 或 <code>&quot;java.properties&quot;</code> 之一，此实现假定它是与其文件后缀相同的字符串。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 资源包的基本名称，是一个完全限定类名<DD><CODE>locale</CODE> - 应为其实例化资源包的语言环境<DD><CODE>format</CODE> - 要加载的资源包格式<DD><CODE>loader</CODE> - 要用来加载包的 <code>ClassLoader</code><DD><CODE>bundle</CODE> - 缓存中已到期的资源包实例<DD><CODE>loadTime</CODE> - <code>bundle</code> 被加载并放入缓存的时间
<DT><B>返回：</B><DD>如果到期的包需要重新加载，则返回 <code>true</code>；否则返回 <code>false</code>。
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>baseName</code>、<code>locale</code>、<code>format</code>、<code>loader</code> 或 <code>bundle</code> 为 <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="toBundleName(java.lang.String, java.util.Locale)"><!-- --></A><H3>
toBundleName</H3>
<PRE>
public <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A> <B>toBundleName</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;baseName,
                           <A HREF="../../java/util/Locale.html" title="java.util 中的类">Locale</A>&nbsp;locale)</PRE>
<DL>
<DD>将给定 <code>baseName</code> 和 <code>locale</code> 转换为包名称。此方法从 <A HREF="../../java/util/ResourceBundle.Control.html#newBundle(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, boolean)"><CODE>newBundle</CODE></A> 和 <A HREF="../../java/util/ResourceBundle.Control.html#needsReload(java.lang.String, java.util.Locale, java.lang.String, java.lang.ClassLoader, java.util.ResourceBundle, long)"><CODE>needsReload</CODE></A> 方法的默认实现调用。

<p>此实现返回以下值：
 <pre>
baseName + &quot;_&quot; + language + &quot;_&quot; + country + &quot;_&quot; + variant
 </pre>
其中 <code>language</code>、<code>country</code> 和 <code>variant</code> 分别是语言、国家/地区和 <code>locale</code> 的变量值。为空字符串的最后部分的值与 '_' 之前的部分一起被忽略。如果所有值都为空字符串，则返回 <code>baseName</code>。

<p>例如，如果 <code>baseName</code> 为 <code>&quot;baseName&quot;</code>、<code>locale</code> 为 <code>Locale(&quot;ja&quot;,&#xA0;&quot;&quot;,&#xA0;&quot;XX&quot;)</code>，则返回 <code>&quot;baseName_ja_&#x2009;_XX&quot;</code>。如果给定语言环境为 <code>Locale(&quot;en&quot;)</code>，则返回 <code>&quot;baseName_en&quot;</code>。

<p>重写此方法允许应用程序在本地化资源的组织和打包中使用不同的约定。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>baseName</CODE> - 资源包的基本名称，是一个完全限定类名<DD><CODE>locale</CODE> - 应当为其加载资源包的语言环境
<DT><B>返回：</B><DD>资源包的包名称
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>baseName</code> 或 <code>locale</code> 为 <code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="toResourceName(java.lang.String, java.lang.String)"><!-- --></A><H3>
toResourceName</H3>
<PRE>
public final <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A> <B>toResourceName</B>(<A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;bundleName,
                                   <A HREF="../../java/lang/String.html" title="java.lang 中的类">String</A>&nbsp;suffix)</PRE>
<DL>
<DD>将给定 <code>bundleName</code> 转换为 <A HREF="../../java/lang/ClassLoader.html#getResource(java.lang.String)"><CODE>ClassLoader.getResource</CODE></A> 方法要求的形式：用 <code>'/'</code> 替换 <code>bundleName</code> 中出现的所有 <code>'.'</code>，并添加一个 <code>'.'</code> 和给定的文件 <code>suffix</code>。例如，如果 <code>bundleName</code> 为 <code>&quot;foo.bar.MyResources_ja_JP&quot;</code>、<code>suffix</code> 为 <code>&quot;properties&quot;</code>，则返回 <code>&quot;foo/bar/MyResources_ja_JP.properties&quot;</code>。
<P>
<DD><DL>
<DT><B>参数：</B><DD><CODE>bundleName</CODE> - 包名称<DD><CODE>suffix</CODE> - 文件类型后缀
<DT><B>返回：</B><DD>已转换的资源名称
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - 如果 <code>bundleName</code> 或 <code>suffix</code> 为 <code>null</code></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ResourceBundle.Control.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Java<sup><font size=-2>TM</font></sup>&nbsp;Platform<br>Standard&nbsp;Ed. 6</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../java/util/ResourceBundle.html" title="java.util 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../java/util/Scanner.html" title="java.util 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?java/util/ResourceBundle.Control.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="ResourceBundle.Control.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;<A HREF="#field_summary">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;<A HREF="#field_detail">字段</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size="-1"><a href="http://bugs.sun.com/services/bugreport/index.jsp">提交错误或意见</a><br>有关更多的 API 参考资料和开发人员文档，请参阅 <a href="http://java.sun.com/javase/6/webnotes/devdocs-vs-specs.html">Java SE 开发人员文档</a>。该文档包含更详细的、面向开发人员的描述，以及总体概述、术语定义、使用技巧和工作代码示例。 <p>版权所有 2007 Sun Microsystems, Inc. 保留所有权利。 请遵守<a href="http://java.sun.com/javase/6/docs/legal/license.html">许可证条款</a>。另请参阅<a href="http://java.sun.com/docs/redist.html">文档重新分发政策</a>。</font>
</BODY>
</HTML>
